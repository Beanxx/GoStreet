{"version":3,"file":"static/js/625.348ddd3b.chunk.js","mappings":"sQAEaA,EAAUC,EAAAA,EAAAA,OAAa,oTAevBC,EAAWD,EAAAA,EAAAA,OAAa,oTAexBE,EAAUF,EAAAA,EAAAA,OAAa,mYAiBvBG,EAAWH,EAAAA,EAAAA,OAAa,6RAgBxBI,GAAcJ,EAAAA,EAAAA,GAAOG,EAAPH,CAAgB,6H,6KC/DrCK,E,OAAYL,EAAAA,IAAU,ooB,sCC0F5B,EAlFe,WACb,IAAMM,GAAOC,EAAAA,EAAAA,KAAY,SAACC,GAAK,OAAKA,EAAMF,IAAI,IACxCG,GAAWC,EAAAA,EAAAA,MAEjB,GAAwCC,EAAAA,EAAAA,UAAS,IAAG,eAA7CC,EAAY,KAAEC,EAAe,MAEpCC,EAAAA,EAAAA,YAAU,WACJR,EAAKS,YAAcT,EAAKU,YAC1BP,EAAS,UAETI,EAAgBP,EAAKW,SAEzB,GAAG,CAACX,IAEJ,IAQMY,EAAW,yCAAG,WAAOC,GAAC,4EACP,OAAnBA,EAAEC,iBAAiB,kBAGXC,EAAAA,EAAAA,OAAgBC,YAAYC,cAAc,CAC9CN,SAAUL,IACT,KAAD,0EAEKY,MAAM,sFAAmB,OAE9BC,EAAO,CACTR,SAAUL,EACVc,IAAKpB,EAAKoB,KAEZC,EAAAA,GAAAA,KAAW,2BAA4BF,GAAMG,MAAK,SAACC,GACjD,IAAIA,EAASC,KAAKC,QAShB,OAAOP,MAAM,qFARbQ,IAAAA,KAAU,CACRC,KAAM,UACNC,KAAM,oFACNC,OAAQ,iBACPP,MAAK,WACNQ,OAAOC,SAASC,QAClB,GAIJ,IAAG,yDACJ,gBA3BgB,sCA6BjB,OACE,SAACjC,EAAS,WACR,6BACE,gBAAKkC,UAAU,aAAY,UACzB,8BACE,gBAAKA,UAAU,YAAW,gEAC1B,gBAAKA,UAAU,YAAW,8GAC1B,iBAAKA,UAAU,eAAc,WAC3B,kBACEC,KAAK,OACLC,OAAO,UACPC,MAAO,CAAEC,QAAS,QAClBC,SAAU,SAACzB,GAAC,OAjDN,SAACA,GACnB,IAAM0B,EAAW,IAAIC,SACrBD,EAASE,OAAO,OAAQ5B,EAAE6B,OAAOC,MAAM,IACvCtB,EAAAA,GAAAA,KAAW,wBAAyBkB,GAAUjB,MAAK,SAACC,GAClDhB,EAAgBgB,EAASC,KAAKoB,SAChC,GACF,CA2C+BC,CAAYhC,EAAE,KAEjC,SAAC,KAAM,CACLiC,KAAK,MACLC,OAAO,EACPC,IAAK1C,EACL8B,MAAO,CAAEa,OAAQ,sBAKzB,gBAAKhB,UAAU,eAAc,UAC3B,SAAC,KAAO,CAACiB,QAAS,SAACrC,GAAC,OAAKD,EAAYC,EAAE,EAAC,gCAKlD,C","sources":["components/UI/Button.js","components/user/MyPage/MypageCSS.js","components/user/MyPage/MyPage.js"],"sourcesContent":["import styled from \"@emotion/styled\";\n\nexport const FillBtn = styled.button`\n  background-color: #50577a;\n  color: white;\n  border-radius: 5px;\n  border: none;\n  padding: 9px 13px;\n  font-weight: bold;\n  font-size: 21px;\n  box-shadow: rgba(0, 0, 0, 0.16) 0px 3px 6px, rgba(0, 0, 0, 0.23) 0px 3px 6px;\n\n  &:hover {\n    background-color: #464c6b;\n  }\n`;\n\nexport const LightBtn = styled.button`\n  background-color: #ffeaca;\n  color: #767474;\n  border-radius: 5px;\n  border: none;\n  padding: 6px 10px;\n  font-weight: bold;\n  font-size: 21px;\n  box-shadow: rgba(0, 0, 0, 0.1) 0px 3px 6px, rgba(0, 0, 0, 0.1) 0px 3px 6px;\n\n  &:hover {\n    background-color: #464c6b;\n  }\n`;\n\nexport const MoreBtn = styled.button`\n  background-color: #50577a;\n  color: white;\n  border-radius: 50px;\n  border: none;\n  margin: 1rem 0 3rem 0;\n  padding: 1rem;\n  font-weight: bold;\n  box-shadow: rgba(50, 50, 93, 0.25) 0px 50px 100px -20px,\n    rgba(0, 0, 0, 0.3) 0px 30px 60px -30px,\n    rgba(10, 37, 64, 0.35) 0px -2px 6px 0px inset;\n\n  &:hover {\n    background-color: #414763;\n  }\n`;\n\nexport const LoginBtn = styled.button`\n  border-radius: 20px;\n  padding: 10px;\n  background-color: #444c74;\n  color: white;\n  border: 1px solid black;\n  margin-top: 10px;\n  font-weight: bold;\n\n  &:hover {\n    background-color: #5c679a;\n    color: white;\n    border: 1px solid black;\n  }\n`;\n\nexport const NicknameBtn = styled(LoginBtn)`\n  margin: 0 auto;\n  margin-top: 10px;\n  margin-bottom: 15px;\n  width: auto;\n  padding: 7px 10px;\n`;\n","import styled from \"@emotion/styled\";\n\nconst MypageDiv = styled.div`\n  padding: 2rem 0;\n  max-width: 850px;\n  margin: 0 auto;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  @media (max-width: 850px) {\n    width: 90%;\n  }\n\n  .avatar-box {\n    .sub-style {\n      color: white;\n      font-size: 26px;\n      text-align: center;\n      margin: 10px;\n    }\n\n    .avatar-style {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      margin-top: 3rem;\n      margin-bottom: 1rem;\n    }\n  }\n\n  .button-style {\n    display: flex;\n    justify-content: center;\n    margin-top: 1rem;\n  }\n`;\n\nexport { MypageDiv };\n","import React, { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useNavigate } from \"react-router-dom\";\nimport Avatar from \"react-avatar\";\nimport axios from \"axios\";\nimport firebase from \"../../../firebase.js\";\nimport { MypageDiv } from \"./MypageCSS.js\";\nimport Swal from \"sweetalert2\";\nimport { FillBtn } from \"../../UI/Button\";\n\nconst MyPage = () => {\n  const user = useSelector((state) => state.user);\n  const navigate = useNavigate();\n\n  const [currentImage, setCurrentImage] = useState(\"\");\n\n  useEffect(() => {\n    if (user.isLoading && !user.accessToken) {\n      navigate(\"/login\");\n    } else {\n      setCurrentImage(user.photoURL);\n    }\n  }, [user]);\n\n  const ImageUpload = (e) => {\n    const formData = new FormData();\n    formData.append(\"file\", e.target.files[0]);\n    axios.post(\"/api/user/profile/img\", formData).then((response) => {\n      setCurrentImage(response.data.filePath);\n    });\n  };\n\n  const SaveProfile = async (e) => {\n    e.preventDefault();\n\n    try {\n      await firebase.auth().currentUser.updateProfile({\n        photoURL: currentImage,\n      });\n    } catch (error) {\n      return alert(\"프로필 저장에 실패하였습니다.\");\n    }\n    let body = {\n      photoURL: currentImage,\n      uid: user.uid,\n    };\n    axios.post(\"/api/user/profile/update\", body).then((response) => {\n      if (response.data.success) {\n        Swal.fire({\n          icon: \"success\",\n          text: \"프로필 저장에 성공하였습니다.\",\n          button: \"확인\",\n        }).then(() => {\n          window.location.reload();\n        });\n      } else {\n        return alert(\"프로필 저장에 실패하였습니다.\");\n      }\n    });\n  };\n\n  return (\n    <MypageDiv>\n      <form>\n        <div className=\"avatar-box\">\n          <label>\n            <div className=\"sub-style\">이미지를 클릭하여</div>\n            <div className=\"sub-style\">프로필 이미지를 변경할 수 있습니다!</div>\n            <div className=\"avatar-style\">\n              <input\n                type=\"file\"\n                accept=\"image/*\"\n                style={{ display: \"none\" }}\n                onChange={(e) => ImageUpload(e)}\n              />\n              <Avatar\n                size=\"150\"\n                round={true}\n                src={currentImage}\n                style={{ cursor: \"pointer\" }}\n              />\n            </div>\n          </label>\n        </div>\n        <div className=\"button-style\">\n          <FillBtn onClick={(e) => SaveProfile(e)}>저장</FillBtn>\n        </div>\n      </form>\n    </MypageDiv>\n  );\n};\n\nexport default MyPage;\n"],"names":["FillBtn","styled","LightBtn","MoreBtn","LoginBtn","NicknameBtn","MypageDiv","user","useSelector","state","navigate","useNavigate","useState","currentImage","setCurrentImage","useEffect","isLoading","accessToken","photoURL","SaveProfile","e","preventDefault","firebase","currentUser","updateProfile","alert","body","uid","axios","then","response","data","success","Swal","icon","text","button","window","location","reload","className","type","accept","style","display","onChange","formData","FormData","append","target","files","filePath","ImageUpload","size","round","src","cursor","onClick"],"sourceRoot":""}